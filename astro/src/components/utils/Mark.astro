---
import type { Props as $, Mark as Mark } from "astro-portabletext/types";
import { Mark as DefaultMark } from "astro-portabletext/components";
import InternalLink from "./InternalLink.astro";
import ExternalLink from "./ExternalLink.astro";
export type Props = $<Mark<never>>;

const props = Astro.props;
const { node, index, isInline, ...attrs } = props;

const markTypeIs = (markType: string) => markType === props.node.markType;

const Cmp = markTypeIs("internalLink")
  ? InternalLink
  : markTypeIs("externalLink")
    ? ExternalLink
    : DefaultMark;
---

<Cmp {...props}><slot /></Cmp>
